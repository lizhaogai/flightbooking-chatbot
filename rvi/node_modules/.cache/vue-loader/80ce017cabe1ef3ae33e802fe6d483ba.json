{"remainingRequest":"/media/alessio/Files/Universita/Magistrale/AI/SHRI/project/rasa-voice-interface/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/alessio/Files/Universita/Magistrale/AI/SHRI/project/rasa-voice-interface/src/App.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/media/alessio/Files/Universita/Magistrale/AI/SHRI/project/rasa-voice-interface/src/App.vue","mtime":1577569261208},{"path":"/media/alessio/Files/Universita/Magistrale/AI/SHRI/project/rasa-voice-interface/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/media/alessio/Files/Universita/Magistrale/AI/SHRI/project/rasa-voice-interface/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/media/alessio/Files/Universita/Magistrale/AI/SHRI/project/rasa-voice-interface/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/media/alessio/Files/Universita/Magistrale/AI/SHRI/project/rasa-voice-interface/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/media/alessio/Files/Universita/Magistrale/AI/SHRI/project/rasa-voice-interface/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/alessio/Files/Universita/Magistrale/AI/SHRI/project/rasa-voice-interface/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#app {\n\t@import '../node_modules/bootstrap/scss/bootstrap';\n\t@import '@/assets/fonts/SourceSansPro-Regular.ttf';\n\tfont-family: 'Source Sans Pro', sans-serif;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\twidth: 100%;\n\theight: 100%;\n\tbackground: rgb(0, 0, 0);\n\tbackground: -moz-linear-gradient(90deg, rgba(0, 0, 0, 1) 0%, rgba(123, 1, 188, 1) 91%);\n\tbackground: -webkit-linear-gradient(90deg, rgba(0, 0, 0, 1) 0%, rgba(123, 1, 188, 1) 91%);\n\tbackground: linear-gradient(90deg, rgba(0, 0, 0, 1) 0%, rgba(123, 1, 188, 1) 91%);\n\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#000000\",endColorstr=\"#7b01bc\",GradientType=1);\n\t@media only screen and (max-width: 600px) {\n\t\tbackground: -moz-linear-gradient(13deg, rgba(0, 0, 0, 1) 0%, rgba(123, 1, 188, 1) 55%);\n\t\tbackground: -webkit-linear-gradient(13deg, rgba(0, 0, 0, 1) 0%, rgba(123, 1, 188, 1) 55%);\n\t\tbackground: linear-gradient(13deg, rgba(0, 0, 0, 1) 0%, rgba(123, 1, 188, 1) 55%);\n\t\tfilter: progid:DXImageTransform.Microsoft.gradient(\n\t\t\tstartColorstr=\"#000000\",\n\t\t\tendColorstr=\"#7b01bc\",\n\t\t\tGradientType=1);\n\t}\n\t.connecting-overlay {\n\t\tposition: absolute;\n\t\tmin-height: 100px;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\ttransition: all 0.5s ease-in-out;\n\t\topacity: 0;\n\t\t&.show {\n\t\t\tz-index: 10000;\n\t\t\tbackground: rgba(0, 0, 0, 0.92);\n\t\t\topacity: 1;\n\t\t}\n\t\t& > p {\n\t\t\tposition: absolute;\n\t\t\ttop: calc(50% + 80px);\n\t\t\tleft: 50%;\n\t\t\ttransform: translate(-50%, -50%);\n\t\t\tfont-size: 12px;\n\t\t\twidth: 100%;\n\t\t\ttext-align: center;\n\t\t\tbackground: linear-gradient(to right, #fff 20%, $rasa-color 50%, #fff 100%);\n\t\t\tbackground-size: 200% auto;\n\t\t\tcolor: $rasa-color;\n\t\t\tbackground-clip: text;\n\t\t\t-webkit-background-clip: text;\n\t\t\t-webkit-text-fill-color: transparent;\n\t\t\tanimation: shine 3s linear infinite;\n\t\t\t@keyframes shine {\n\t\t\t\tto {\n\t\t\t\t\tbackground-position: 200% center;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t@keyframes slide-up-fade-in {\n\t\t0% {\n\t\t\topacity: 0;\n\t\t\ttransform: translate(0px, 40px);\n\t\t}\n\t\t100% {\n\t\t\topacity: 1;\n\t\t\ttransform: translate(0px, 0px);\n\t\t}\n\t}\n\n\t/* Fade-Medium */\n\t.fade-enter-active,\n\t.fade-leave-active {\n\t\ttransition: opacity 0.9s;\n\t}\n\n\t.fade-enter,\n\t.fade-leave-to {\n\t\topacity: 0;\n\t}\n\n\t.slide-fade-enter-active {\n\t\ttransition: all .8s ease;\n\t}\n\t.slide-fade-leave-active {\n\t\ttransition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);\n\t}\n\t.slide-fade-enter, .slide-fade-leave-to\n\t\t/* .slide-fade-leave-active for <2.1.8 */ {\n\t\ttransform: translateX(10px);\n\t\topacity: 0;\n\t}\n\n\t.full-height {\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\toverflow: hidden;\n\t}\n\n\t.fade-top {\n\t\ttop: 0;\n\t\twidth: 100%;\n\t\theight: 60px;\n\t\tposition: fixed;\n\t\tz-index: 2;\n\t\tpointer-events: none;\n\t\tbackground: linear-gradient(\n\t\t\tto bottom,\n\t\t\trgba(0, 0, 0, 0.8) 0%,\n\t\t\trgba(0, 0, 0, 0.4) 20%,\n\t\t\trgba(0, 0, 0, 0.01) 91.9%,\n\t\t\ttransparent 100%\n\t\t);\n\t}\n\n\t.fade-bottom {\n\t\tbottom: 0;\n\t\twidth: 100%;\n\t\theight: 60px;\n\t\tposition: fixed;\n\t\tz-index: 2;\n\t\tpointer-events: none;\n\t\tbackground: linear-gradient(\n\t\t\tto top,\n\t\t\trgba(0, 0, 0, 0.8) 0%,\n\t\t\trgba(0, 0, 0, 0.4) 20%,\n\t\t\trgba(0, 0, 0, 0.01) 91.9%,\n\t\t\ttransparent 100%\n\t\t);\n\t}\n}\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n\t<div id=\"app\">\n\t\t<div class=\"connecting-overlay\" :class=\"!activeConnection ? 'show' : ''\">\n\t\t\t<svg\n\t\t\t\twidth=\"100%\"\n\t\t\t\theight=\"200px\"\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tviewBox=\"0 0 100 100\"\n\t\t\t\tpreserveAspectRatio=\"xMidYMid\"\n\t\t\t\tclass=\"lds-ball\"\n\t\t\t\tstyle=\"background: none; margin-top: 20vh; margin-button: 100px;\"\n\t\t\t>\n\t\t\t\t<circle cx=\"50\" cy=\"23.0182\" r=\"5\" fill=\"#7B01BC\">\n\t\t\t\t\t<animate\n\t\t\t\t\t\tattributeName=\"cy\"\n\t\t\t\t\t\tcalcMode=\"spline\"\n\t\t\t\t\t\tvalues=\"23;77;23\"\n\t\t\t\t\t\tkeyTimes=\"0;0.5;1\"\n\t\t\t\t\t\tdur=\"1\"\n\t\t\t\t\t\tkeySplines=\"0.45 0 0.9 0.55;0 0.45 0.55 0.9\"\n\t\t\t\t\t\tbegin=\"0s\"\n\t\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t\t/>\n\t\t\t\t\t<animate\n\t\t\t\t\t\tattributeName=\"fill\"\n\t\t\t\t\t\tcalcMode=\"spline\"\n\t\t\t\t\t\tvalues=\"#FFFFFF;#7B01BC;#FFFFFF\"\n\t\t\t\t\t\tkeyTimes=\"0;0.5;1\"\n\t\t\t\t\t\tdur=\"1\"\n\t\t\t\t\t\tkeySplines=\"0.45 0 0.9 0.55;0 0.45 0.55 0.9\"\n\t\t\t\t\t\tbegin=\"0s\"\n\t\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t\t/>\n\t\t\t\t</circle>\n\t\t\t</svg>\n\t\t\t<p>Waiting for connection ...</p>\n\t\t</div>\n\t\t<!-- Main components (usually header -> chat -> footer) -->\n\t\t<Header v-if=\"chatStart\"/>\n\t\t<Chat />\n\t\t<Footer v-if=\"inputVisible\"/>\n\t\t<audio id=\"response-voice\"\n\t\t\t:src=\"getCurrentIncomingMessage.link\"\n\t\t/>\n\t</div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\n/* Mixins */\nimport MessageHandlerMixin from './mixins/MessageHandlerMixin';\n/* Components */\nimport Chat from './components/Chat';\nimport Footer from './components/VoiceFooter';\nimport Header from './components/Header';\n/* Helpers */\nimport generateUserId from './helpers';\n\nexport default {\n\tname: 'App',\n\tcomponents: {\n\t\tChat,\n\t\tFooter,\n\t\tHeader\n\t},\n\tmixins: [MessageHandlerMixin],\n\tdata() {\n\t\treturn {\n\t\t\twelcomeMessage: 'Hey! I am a flight booking assistant, how can I help you?',\n\t\t\tdisplayNewMesssage: true,\n\t\t\taudio: undefined\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'activeConnection',\n\t\t\t'inputVisible',\n\t\t\t'chatStart',\n\t\t\t'userId',\n\t\t\t'waitForResponse',\n\t\t\t'getCurrentIncomingMessage'\n\t\t]),\n\t},\n\tmounted() {\n\t\tconst uid = generateUserId();\n\t\tthis.$store.commit('addIncomingMessages', { text: this.welcomeMessage });\n\t\t/* Append a userId to the user */\n\t\tthis.$store.commit('setUserId', uid);\n\t\t/* Init WebSocket Event Listeners */\n\t\tthis.$socket.onclose = () => {\n\t\t\tconsole.log('Socket closed ...');\n\t\t\tthis.$store.commit('setActiveConnection', false);\n\t\t};\n\n\t\tthis.$socket.onerror = () => {\n\t\t\tthis.$store.commit('setActiveConnection', false);\n\t\t};\n\t},\n\tmethods: {\n\t\tremoveOldIncomingMessage(data) {\n\t\t\tif (this.displayNewMesssage) {\n\t\t\t\tthis.displayNewMesssage = false;\n\t\t\t\t// const audio = new Audio(this.getCurrentIncomingMessage.link);\n\t\t\t\tif (data.link) {\n\t\t\t\t\tconst audio = document.getElementById('response-voice');\n\t\t\t\t\tconsole.log(audio);\n\t\t\t\t\taudio.src = data.link;\n\t\t\t\t\tconst playPromise = audio.play();\n\t\t\t\t\tif (playPromise !== null) {\n\t\t\t\t\t\tplayPromise.catch(() => { audio.play(); });\n\t\t\t\t\t}\n\t\t\t\t\taudio.addEventListener('ended', () => {\n\t\t\t\t\t\tthis.$store.commit('removeOldIncomingMessage');\n\t\t\t\t\t\tthis.displayNewMesssage = true;\n\t\t\t\t\t\tthis.$store.commit('setRecordingAvalibility', false);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.$store.commit('removeOldIncomingMessage');\n\t\t\t\t\t\tthis.displayNewMesssage = true;\n\t\t\t\t\t\tthis.$store.commit('setRecordingAvalibility', false);\n\t\t\t\t\t}, 5000);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.removeOldIncomingMessage(data);\n\t\t\t\t\tthis.$store.commit('setRecordingAvalibility', true);\n\t\t\t\t}, 1000);\n\t\t\t}\n\t\t}\n\t},\n\tsockets: {\n\t\tconnect() {\n\t\t\tconsole.log('socket connected~~~~');\n\t\t\tthis.$socket.emit('session_request', { session_id: this.userId });\n\t\t\tthis.$store.commit('setActiveConnection', true);\n\t\t\tthis.$store.commit('hideComponentsAfterSend');\n\t\t\tthis.$store.commit('setInputVisible', true);\n\t\t},\n\t\tdisconnect() {\n\t\t\tthis.$store.commit('setActiveConnection', false);\n\t\t},\n\t\tsession_confirm(remoteId) {\n\t\t\tconsole.log(`session_confirm:${this.$socket.id} session_id:${remoteId}`);\n\n\t\t\t// if (this.userId === remoteId) {\n\t\t\t// \tconsole.log('Checked user id :)');\n\t\t\t// \tthis.$socket.emit('user_uttered', {\n\t\t\t// \t\tmessage: '/get_started',\n\t\t\t// \t\tsession_id: this.local_id\n\t\t\t// \t});\n\t\t\t// }\n\t\t},\n\t\tbot_uttered(data) {\n\t\t\tconsole.log(data);\n\t\t\tif (data.user_utterance) { this.$store.commit('addOutgoingMessage', { text: data.user_utterance }); }\n\t\t\tthis.$store.commit('addIncomingMessages', data);\n\t\t\tthis.$store.commit('setResponseStatus', false);\n\t\t\tthis.removeOldIncomingMessage(data);\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\">\n#app {\n\t@import '../node_modules/bootstrap/scss/bootstrap';\n\t@import '@/assets/fonts/SourceSansPro-Regular.ttf';\n\tfont-family: 'Source Sans Pro', sans-serif;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\twidth: 100%;\n\theight: 100%;\n\tbackground: rgb(0, 0, 0);\n\tbackground: -moz-linear-gradient(90deg, rgba(0, 0, 0, 1) 0%, rgba(123, 1, 188, 1) 91%);\n\tbackground: -webkit-linear-gradient(90deg, rgba(0, 0, 0, 1) 0%, rgba(123, 1, 188, 1) 91%);\n\tbackground: linear-gradient(90deg, rgba(0, 0, 0, 1) 0%, rgba(123, 1, 188, 1) 91%);\n\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#000000\",endColorstr=\"#7b01bc\",GradientType=1);\n\t@media only screen and (max-width: 600px) {\n\t\tbackground: -moz-linear-gradient(13deg, rgba(0, 0, 0, 1) 0%, rgba(123, 1, 188, 1) 55%);\n\t\tbackground: -webkit-linear-gradient(13deg, rgba(0, 0, 0, 1) 0%, rgba(123, 1, 188, 1) 55%);\n\t\tbackground: linear-gradient(13deg, rgba(0, 0, 0, 1) 0%, rgba(123, 1, 188, 1) 55%);\n\t\tfilter: progid:DXImageTransform.Microsoft.gradient(\n\t\t\tstartColorstr=\"#000000\",\n\t\t\tendColorstr=\"#7b01bc\",\n\t\t\tGradientType=1);\n\t}\n\t.connecting-overlay {\n\t\tposition: absolute;\n\t\tmin-height: 100px;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\ttransition: all 0.5s ease-in-out;\n\t\topacity: 0;\n\t\t&.show {\n\t\t\tz-index: 10000;\n\t\t\tbackground: rgba(0, 0, 0, 0.92);\n\t\t\topacity: 1;\n\t\t}\n\t\t& > p {\n\t\t\tposition: absolute;\n\t\t\ttop: calc(50% + 80px);\n\t\t\tleft: 50%;\n\t\t\ttransform: translate(-50%, -50%);\n\t\t\tfont-size: 12px;\n\t\t\twidth: 100%;\n\t\t\ttext-align: center;\n\t\t\tbackground: linear-gradient(to right, #fff 20%, $rasa-color 50%, #fff 100%);\n\t\t\tbackground-size: 200% auto;\n\t\t\tcolor: $rasa-color;\n\t\t\tbackground-clip: text;\n\t\t\t-webkit-background-clip: text;\n\t\t\t-webkit-text-fill-color: transparent;\n\t\t\tanimation: shine 3s linear infinite;\n\t\t\t@keyframes shine {\n\t\t\t\tto {\n\t\t\t\t\tbackground-position: 200% center;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t@keyframes slide-up-fade-in {\n\t\t0% {\n\t\t\topacity: 0;\n\t\t\ttransform: translate(0px, 40px);\n\t\t}\n\t\t100% {\n\t\t\topacity: 1;\n\t\t\ttransform: translate(0px, 0px);\n\t\t}\n\t}\n\n\t/* Fade-Medium */\n\t.fade-enter-active,\n\t.fade-leave-active {\n\t\ttransition: opacity 0.9s;\n\t}\n\n\t.fade-enter,\n\t.fade-leave-to {\n\t\topacity: 0;\n\t}\n\n\t.slide-fade-enter-active {\n\t\ttransition: all .8s ease;\n\t}\n\t.slide-fade-leave-active {\n\t\ttransition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);\n\t}\n\t.slide-fade-enter, .slide-fade-leave-to\n\t\t/* .slide-fade-leave-active for <2.1.8 */ {\n\t\ttransform: translateX(10px);\n\t\topacity: 0;\n\t}\n\n\t.full-height {\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\toverflow: hidden;\n\t}\n\n\t.fade-top {\n\t\ttop: 0;\n\t\twidth: 100%;\n\t\theight: 60px;\n\t\tposition: fixed;\n\t\tz-index: 2;\n\t\tpointer-events: none;\n\t\tbackground: linear-gradient(\n\t\t\tto bottom,\n\t\t\trgba(0, 0, 0, 0.8) 0%,\n\t\t\trgba(0, 0, 0, 0.4) 20%,\n\t\t\trgba(0, 0, 0, 0.01) 91.9%,\n\t\t\ttransparent 100%\n\t\t);\n\t}\n\n\t.fade-bottom {\n\t\tbottom: 0;\n\t\twidth: 100%;\n\t\theight: 60px;\n\t\tposition: fixed;\n\t\tz-index: 2;\n\t\tpointer-events: none;\n\t\tbackground: linear-gradient(\n\t\t\tto top,\n\t\t\trgba(0, 0, 0, 0.8) 0%,\n\t\t\trgba(0, 0, 0, 0.4) 20%,\n\t\t\trgba(0, 0, 0, 0.01) 91.9%,\n\t\t\ttransparent 100%\n\t\t);\n\t}\n}\n</style>\n"]}]}